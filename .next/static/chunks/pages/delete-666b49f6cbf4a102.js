(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{7882:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/delete",function(){return t(7884)}])},3160:function(e,n,t){"use strict";t.d(n,{Z:function(){return $}});var r=t(5893),i=t(9280),s=t.n(i),c=t(326),a=t(1664),o=t.n(a),u=t(7294),l=t(8911),d=t.n(l),f=function(){return(0,r.jsxs)("ul",{className:d().navContainer,children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"About Us"})})}),(0,r.jsx)(o(),{href:"/campaigns",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Campaigns"})})}),(0,r.jsx)(o(),{href:"/gallery",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Gallery"})})}),(0,r.jsx)(o(),{href:"/contribute",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Contribute"})})}),(0,r.jsx)(o(),{href:"/contact_us",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Contact Us"})})})]})},$=function(){var e=(0,u.useState)(!1),n=e[0],t=e[1];return(0,r.jsxs)("header",{className:s().header,children:[(0,r.jsx)("address",{className:s().address,children:(0,r.jsx)("span",{children:"012-3846579 | cme-camproject.online"})}),(0,r.jsxs)("nav",{children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)("a",{children:(0,r.jsx)("div",{className:s().logo,children:(0,r.jsx)("img",{src:"/images/logo.png"})})})}),(0,r.jsxs)("ul",{className:s().navContainer,children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"About Us"})})}),(0,r.jsx)(o(),{href:"/archives",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Archives"})})}),(0,r.jsx)(o(),{href:"/gallery",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Gallery"})})}),(0,r.jsx)(o(),{href:"/videoGallery",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Video Gallery"})})}),(0,r.jsx)(o(),{href:"/upload",children:(0,r.jsx)("a",{children:(0,r.jsx)("div",{className:s().contriBtn,children:"Upload"})})}),(0,r.jsx)(o(),{href:"/delete",children:(0,r.jsx)("a",{children:(0,r.jsx)("div",{className:s().contriBtn,children:"Delete"})})}),(0,r.jsx)(o(),{href:"/contact_us",children:(0,r.jsx)("a",{children:(0,r.jsx)("li",{children:"Contact Us"})})})]}),(0,r.jsx)("span",{className:s().hamburgerMenu,onClick:function(){t(function(e){return!e})},children:(0,r.jsx)(c.Z,{className:s().mobMenu})})]}),n&&(0,r.jsx)(f,{})]})}},7884:function(e,n,t){"use strict";t.r(n),t.d(n,{UploadForm:function(){return b},__N_SSG:function(){return _},default:function(){return j}});var r=t(7568),i=t(655),s=t(5893),c=t(7294),a=t(2337),o=t(5121),u=t(3532),l=t.n(u),d=function(){var e=(0,c.useState)([]),n=e[0],t=e[1],u=(0,c.useState)(null),d=u[0],f=u[1],$=(0,c.useState)([]),h=$[0],p=$[1],v=(0,c.useState)([]),m=v[0],x=v[1];(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Z.get("http://final-cam-server.vercel.app/image/divisions")];case 1:return t((e=r.sent()).data),[3,3];case 2:return n=r.sent(),console.error("Error fetching divisions:",n),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n;return(0,i.__generator)(this,function(t){switch(t.label){case 0:if(!(null!==d))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,o.Z.get("http://final-cam-server.vercel.app/image/divisions/".concat(d))];case 2:return p((e=t.sent()).data),[3,4];case 3:return n=t.sent(),console.error("Error fetching image IDs:",n),[3,4];case 4:return[3,6];case 5:p([]),t.label=6;case 6:return[2]}})}),function(){return e.apply(this,arguments)})(),x([])},[d]),(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n,t,r,s,c,a,u,l,d,f,$,p,v;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(!(h.length>0))return[3,12];i.label=1;case 1:i.trys.push([1,10,,11]),e=[],n=!0,t=!1,r=void 0,i.label=2;case 2:i.trys.push([2,7,8,9]),s=h[Symbol.iterator](),i.label=3;case 3:if(n=(c=s.next()).done)return[3,6];return u=(a=c.value)._id,d={},[4,o.Z.get("http://final-cam-server.vercel.app/image/fetch/".concat(u),(d.responseType="blob",d))];case 4:l=i.sent(),f=URL.createObjectURL(l.data),$={},e.push(($.id=u,$.url=f,$)),i.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return p=i.sent(),t=!0,r=p,[3,9];case 8:try{n||null==s.return||s.return()}finally{if(t)throw r}return[7];case 9:return x(e),[2,function(){e.forEach(function(e){return URL.revokeObjectURL(e.url)})}];case 10:return v=i.sent(),console.error("Error fetching images:",v),[3,11];case 11:return[3,13];case 12:x([]),i.label=13;case 13:return[2]}})}),function(){return e.apply(this,arguments)})()},[h]);var g,_=function(e){window.open(e,"_blank")},j=(g=(0,r.Z)(function(e){var n;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.Z.delete("http://final-cam-server.vercel.app/image/delete/".concat(e))];case 1:return t.sent(),x(m.filter(function(n){return n.id!==e})),p(h.filter(function(n){return n._id!==e})),[3,3];case 2:return n=t.sent(),console.error("Error deleting image:",n),[3,3];case 3:return[2]}})}),function(e){return g.apply(this,arguments)}),b=function(e){d===e?f(null):f(e)};return(0,s.jsxs)("section",{className:l().section,children:[(0,s.jsx)("div",{className:l().divisionButtons,children:n.map(function(e,n){return(0,s.jsx)("button",{onClick:function(){return b(e)},className:d===e?l().selectedButton:"",children:e},n)})}),d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:l().divisionHeading,children:d}),0===m.length?(0,s.jsx)("p",{children:"No images found for this division."}):(0,s.jsx)(a.G,{columnsCountBreakPoints:{350:1,680:2,1020:3,1340:4},children:(0,s.jsx)(a.Z,{children:m.map(function(e,n){return(0,s.jsxs)("div",{className:l().imageWrapper,children:[(0,s.jsx)("img",{src:e.url,alt:"Image ".concat(n),onClick:function(){return _(e.url)},onError:function(e){return console.error("Error loading image:",e)}}),(0,s.jsx)("button",{onClick:function(){return j(e.id)},children:"Delete"})]},n)})})})]})]})},f=t(7643),$=t.n(f),h=function(){var e=(0,c.useState)([]),n=e[0],t=e[1],u=(0,c.useState)(null),l=u[0],d=u[1],f=(0,c.useState)([]),h=f[0],p=f[1],v=(0,c.useState)([]),m=v[0],x=v[1];(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.Z.get("http://final-cam-server.vercel.app/video/divisions")];case 1:return t((e=r.sent()).data),[3,3];case 2:return n=r.sent(),console.error("Error fetching divisions:",n),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n;return(0,i.__generator)(this,function(t){switch(t.label){case 0:if(!(null!==l))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,o.Z.get("http://localhost:8080/video/divisions/".concat(l))];case 2:return p((e=t.sent()).data),[3,4];case 3:return n=t.sent(),console.error("Error fetching video IDs:",n),[3,4];case 4:return[3,6];case 5:p([]),t.label=6;case 6:return[2]}})}),function(){return e.apply(this,arguments)})(),x([])},[l]),(0,c.useEffect)(function(){var e;(e=(0,r.Z)(function(){var e,n,t,r,s,c,a,u,l,d,f,$,p,v;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(!(h.length>0))return[3,12];i.label=1;case 1:i.trys.push([1,10,,11]),e=[],n=!0,t=!1,r=void 0,i.label=2;case 2:i.trys.push([2,7,8,9]),s=h[Symbol.iterator](),i.label=3;case 3:if(n=(c=s.next()).done)return[3,6];return u=(a=c.value)._id,d={},[4,o.Z.get("http://localhost:8080/video/fetch/".concat(u),(d.responseType="blob",d))];case 4:l=i.sent(),f=URL.createObjectURL(l.data),$={},e.push(($.id=u,$.url=f,$)),i.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return p=i.sent(),t=!0,r=p,[3,9];case 8:try{n||null==s.return||s.return()}finally{if(t)throw r}return[7];case 9:return x(e),[2,function(){e.forEach(function(e){return URL.revokeObjectURL(e.url)})}];case 10:return v=i.sent(),console.error("Error fetching videos:",v),[3,11];case 11:return[3,13];case 12:x([]),i.label=13;case 13:return[2]}})}),function(){return e.apply(this,arguments)})()},[h]);var g,_=function(e){window.open(e,"_blank")},j=(g=(0,r.Z)(function(e){var n;return(0,i.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.Z.delete("http://localhost:8080/video/delete/".concat(e))];case 1:return t.sent(),x(m.filter(function(n){return n.id!==e})),p(h.filter(function(n){return n._id!==e})),[3,3];case 2:return n=t.sent(),console.error("Error deleting video:",n),[3,3];case 3:return[2]}})}),function(e){return g.apply(this,arguments)}),b=function(e){l===e?d(null):d(e)};return(0,s.jsxs)("section",{className:$().section,children:[(0,s.jsx)("div",{className:$().divisionButtons,children:n.map(function(e,n){return(0,s.jsx)("button",{onClick:function(){return b(e)},className:"".concat($().button," ").concat(l===e?$().selectedButton:""),children:e},n)})}),l&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:$().divisionHeading,children:l}),0===m.length?(0,s.jsx)("p",{children:"No videos found for this division."}):(0,s.jsx)(a.G,{columnsCountBreakPoints:{350:1,680:2,1020:3,1340:4},children:(0,s.jsx)(a.Z,{children:m.map(function(e,n){return(0,s.jsxs)("div",{className:$().videoWrapper,children:[(0,s.jsx)("video",{src:e.url,controls:!0,onClick:function(){return _(e.url)},onError:function(e){return console.error("Error loading video:",e)}}),(0,s.jsx)("button",{className:$().deleteButton,onClick:function(){return j(e.id)},children:"Delete"})]},n)})})})]})]})},p=t(5486),v=t.n(p),m=t(8555),x=t(3160),g=function(e){var n,t=e.files,a=(0,c.useState)(t),u=a[0],l=a[1],d=(0,c.useState)(null),f=d[0],$=d[1],h=(0,c.useState)(!1),p=h[0],m=h[1],g=(0,c.useState)(!1),_=g[0],j=g[1],y=(n=(0,r.Z)(function(e){var n,t;return(0,i.__generator)(this,function(r){switch(r.label){case 0:m(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,o.Z.delete("http://final-cam-server.vercel.app/pdf/delete/".concat(e))];case 2:return 200===(n=r.sent()).status?($("File deleted successfully"),l(u.filter(function(n){return n.id!==e}))):$("Error deleting file"),[3,5];case 3:return t=r.sent(),console.error("Error deleting file:",t),$("Error deleting file"),[3,5];case 4:return m(!1),[7];case 5:return[2]}})}),function(e){return n.apply(this,arguments)});return(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)("main",{children:(0,s.jsxs)("div",{className:v()["upload-form-container"],children:[(0,s.jsx)(b,{}),(0,s.jsx)("div",{className:v()["toggle-buttons"],children:(0,s.jsx)("button",{className:"",onClick:function(){return j(!_)},children:_?"Hide File List":"Show File List"})}),_&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Files List"}),f&&(0,s.jsx)("div",{className:v().message,children:f}),p&&(0,s.jsx)("p",{children:"Loading..."}),!p&&(0,s.jsx)("ul",{children:u.map(function(e){return(0,s.jsxs)("li",{className:v()["file-item"],children:[e.name,(0,s.jsx)("button",{className:v()["delete-button"],onClick:function(){return y(e.id)},disabled:p,children:"Delete"})]},e.id)})})]})]})})]})},_=!0,j=(0,m.default)(g);function b(){var e=(0,c.useState)({pdf:!1,image:!1,video:!1}),n=e[0],t=e[1],r=function(e){t({pdf:"pdf"===e,image:"image"===e,video:"video"===e})};return(0,s.jsxs)("div",{className:v()["upload-form-container"],children:[(0,s.jsxs)("div",{className:v()["toggle-buttons"],children:[(0,s.jsx)("button",{className:n.image?v().active:"",onClick:function(){return r("image")},children:"Delete Image"}),(0,s.jsx)("button",{className:n.video?v().active:"",onClick:function(){return r("video")},children:"Delete Video"})]}),n.image&&(0,s.jsx)(d,{}),n.video&&(0,s.jsx)(h,{})]})}},8555:function(e,n,t){"use strict";t.r(n);var r=t(1799),i=t(5893),s=t(1163),c=t(7294),a=function(e){return function(n){var t=(0,s.useRouter)();return(0,c.useEffect)(function(){localStorage.getItem("token")||t.push("/Login")},[]),(0,i.jsx)(e,(0,r.Z)({},n))}};n.default=a},3532:function(e){e.exports={section:"Grid_section__Usa43",divisionButtons:"Grid_divisionButtons__UXXKv",divisionHeading:"Grid_divisionHeading__MUYKh",imageWrapper:"Grid_imageWrapper__N2y4e"}},7643:function(e){e.exports={section:"VideoGrid_section__I2xiq",divisionButtons:"VideoGrid_divisionButtons__a9lsz",button:"VideoGrid_button__3n4dA",selectedButton:"VideoGrid_selectedButton__86e_p",divisionHeading:"VideoGrid_divisionHeading__81Ral",videoWrapper:"VideoGrid_videoWrapper__aXukb",deleteButton:"VideoGrid_deleteButton__BjoRQ"}},8911:function(e){e.exports={navContainer:"MobileMenu_navContainer__bdWmb"}},9280:function(e){e.exports={header:"Navbar_header__p_J8D",hamburgerMenu:"Navbar_hamburgerMenu__ve9dB",logo:"Navbar_logo__f9BcH",contriBtn:"Navbar_contriBtn__8MVxY",end:"Navbar_end__lrgYy"}},5486:function(e){e.exports={"upload-form-container":"fileList_upload-form-container__jNNXp","toggle-buttons":"fileList_toggle-buttons__x6nv_",active:"fileList_active__hHiZV","file-list-container":"fileList_file-list-container__2tjeJ","file-item":"fileList_file-item__LakV_","delete-button":"fileList_delete-button__u1Abv",message:"fileList_message__9P_WL"}},1163:function(e,n,t){e.exports=t(387)},2337:function(e,n,t){"use strict";t.d(n,{G:function(){return d},Z:function(){return f}});var r=t(7294);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function s(e,n){return(s=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var c=function(e){function n(){return e.apply(this,arguments)||this}t=n,c=e,t.prototype=Object.create(c.prototype),t.prototype.constructor=t,s(t,c);var t,c,a=n.prototype;return a.getColumns=function(){var e=this.props,n=e.children,t=e.columnsCount,i=Array.from({length:t},function(){return[]});return r.Children.forEach(n,function(e,n){e&&r.isValidElement(e)&&i[n%t].push(e)}),i},a.renderColumns=function(){var e=this.props.gutter;return this.getColumns().map(function(n,t){return r.createElement("div",{key:t,style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:e}},n.map(function(e){return e}))})},a.render=function(){var e=this.props,n=e.gutter,t=e.className,s=e.style;return r.createElement("div",{style:i({display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:n},s),className:t},this.renderColumns())},n}(r.Component);c.propTypes={},c.defaultProps={columnsCount:3,gutter:"0",className:null,style:{}};var a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,o=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1];return a(function(){t(!0)},[]),n},u=function(){var e=o(),n=(0,r.useState)(0),t=n[0],i=n[1],s=(0,r.useCallback)(function(){e&&i(window.innerWidth)},[e]);return a(function(){if(e)return window.addEventListener("resize",s),s(),function(){return window.removeEventListener("resize",s)}},[e,s]),t},l=function(e){var n=e.columnsCountBreakPoints,t=void 0===n?{350:1,750:2,900:3}:n,i=e.children,s=e.className,c=e.style,a=u(),o=(0,r.useMemo)(function(){var e=Object.keys(t).sort(function(e,n){return e-n}),n=e.length>0?t[e[0]]:1;return e.forEach(function(e){e<a&&(n=t[e])}),n},[a,t]);return r.createElement("div",{className:void 0===s?null:s,style:void 0===c?null:c},r.Children.map(i,function(e,n){return r.cloneElement(e,{key:n,columnsCount:o})}))};l.propTypes={};var d=l,f=c}},function(e){e.O(0,[359,183,121,774,888,179],function(){return e(e.s=7882)}),_N_E=e.O()}]);