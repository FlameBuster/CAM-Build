(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{2799:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uploadPdf",function(){return r(9867)}])},9867:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(7568),a=r(655),l=r(5893),s=r(7294),o=r(575),u=r.n(o);function i(){var e,t=(0,s.useState)(null),r=t[0],o=t[1],i=(0,s.useState)(""),c=i[0],d=i[1],p=(0,s.useState)(""),$=p[0],m=p[1],h=(0,s.useState)(""),f=h[0],x=h[1],j=(0,s.useState)(""),g=j[0],v=j[1],b=(0,s.useState)(""),N=b[0],S=b[1],y=(0,s.useState)(""),C=y[0],F=y[1],_=(0,s.useState)(""),P=_[0],k=_[1],E=(0,s.useState)(""),T=E[0],w=E[1],A=(0,s.useState)(""),D=A[0],I=A[1],O=(0,s.useState)(""),B=O[0],V=O[1],L=(0,s.useState)(""),U=L[0],Z=L[1],R=(0,s.useState)(""),X=R[0],Y=R[1],G=(0,s.useState)(""),M=G[0],Q=G[1],q=(0,s.useState)(""),z=q[0],H=q[1],J=(0,s.useState)(null),K=J[0],W=J[1],ee=(0,s.useState)(!1),et=ee[0],er=ee[1],en=function(e){var t=e.target.files[0];t&&"application/pdf"===t.type?o(t):alert("Please select a valid PDF file")},ea=function(e){d(e.target.value)},el=(e=(0,n.Z)(function(e){var t,n,l,s,o,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(e.preventDefault(),!r)return alert("Please select a PDF file"),[2];if(!c)return alert("Please enter a file name"),[2];(t=new FormData).append("file",r,c+".pdf"),n={},t.append("metadata",JSON.stringify((n.metadata={materialNo:$,Accession_number:{Ser_Corps_Inst:f,Est_Br:g,Sub_Publisher:N,Vol:C,Year:P,Collection_type:T,No:D,Loc:B},Location:U,Page_no:X,No_of_copies:M,Remarks:z},n))),er(!0),a.label=1;case 1:return a.trys.push([1,4,5,6]),[4,fetch("http://final-cam-server.vercel.app/pdf/create",((s={}).method="POST",s.body=t,s))];case 2:return[4,(l=a.sent()).json()];case 3:return o=a.sent(),console.log(o),l.ok?W("File uploaded successfully"):W("Error uploading file"),[3,6];case 4:return u=a.sent(),console.error(u),W("Error uploading file"),[3,6];case 5:return er(!1),[7];case 6:return[2]}})}),function(t){return e.apply(this,arguments)});return(0,l.jsxs)("div",{className:u()["upload-pdf-container"],children:[(0,l.jsx)("h2",{children:"Upload PDF"}),K&&(0,l.jsx)("div",{className:u().message,children:K}),(0,l.jsxs)("form",{onSubmit:el,children:[(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"pdfFile",children:"Select PDF File:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"file",id:"pdfFile",name:"pdfFile",accept:".pdf",onChange:en})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"fileName",children:"Enter File Name:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"fileName",name:"fileName",value:c,onChange:ea})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"mtrlNo",children:"Mtrl No:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"mtrlNo",name:"mtrlNo",value:$,onChange:function(e){return m(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"serCorInst",children:"Ser/Corps/Inst:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"serCorInst",name:"serCorInst",value:f,onChange:function(e){return x(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"estBr",children:"Est/Br:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"estBr",name:"estBr",value:g,onChange:function(e){return v(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"dteSecSubPublisher",children:"Dte/Sec/Sub/Publisher:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"dteSecSubPublisher",name:"dteSecSubPublisher",value:N,onChange:function(e){return S(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"subSecVolAuthor",children:"Sub Sec/Vol/Author:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"subSecVolAuthor",name:"subSecVolAuthor",value:C,onChange:function(e){return F(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"year",children:"Year:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"year",name:"year",value:P,onChange:function(e){return k(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"collectionType",children:"Collection Type:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"collectionType",name:"collectionType",value:T,onChange:function(e){return w(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"no",children:"No:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"no",name:"no",value:D,onChange:function(e){return I(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"loc",children:"Loc:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"loc",name:"loc",value:B,onChange:function(e){return V(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"location",children:"Location:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"location",name:"location",value:U,onChange:function(e){return Z(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"pageNo",children:"Page No:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"pageNo",name:"pageNo",value:X,onChange:function(e){return Y(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"noOfCopies",children:"No of Copies:"}),(0,l.jsx)("br",{}),(0,l.jsx)("input",{type:"text",id:"noOfCopies",name:"noOfCopies",value:M,onChange:function(e){return Q(e.target.value)}})]}),(0,l.jsxs)("div",{className:u()["form-group"],children:[(0,l.jsx)("label",{htmlFor:"remarks",children:"Remarks:"}),(0,l.jsx)("br",{}),(0,l.jsx)("textarea",{id:"remarks",name:"remarks",value:z,onChange:function(e){return H(e.target.value)}})]}),(0,l.jsx)("button",{type:"submit",disabled:et,children:et?"Uploading...":"Upload"})]})]})}},575:function(e){e.exports={"upload-pdf-container":"upload_upload-pdf-container__GNp7F",message:"upload_message___AZco","form-group":"upload_form-group___lc2F","submit-button":"upload_submit-button__FImhQ"}},7568:function(e,t,r){"use strict";function n(e,t,r,n,a,l,s){try{var o=e[l](s),u=o.value}catch(i){r(i);return}o.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,l){var s=e.apply(t,r);function o(e){n(s,a,l,o,u,"next",e)}function u(e){n(s,a,l,o,u,"throw",e)}o(void 0)})}}r.d(t,{Z:function(){return a}})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2799)}),_N_E=e.O()}]);