(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{8608:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login",function(){return r(8654)}])},3160:function(e,n,r){"use strict";r.d(n,{Z:function(){return $}});var s=r(5893),a=r(9280),t=r.n(a),i=r(326),l=r(1664),o=r.n(l),c=r(7294),u=r(8911),d=r.n(u),h=function(){return(0,s.jsxs)("ul",{className:d().navContainer,children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"About Us"})})}),(0,s.jsx)(o(),{href:"/campaigns",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Campaigns"})})}),(0,s.jsx)(o(),{href:"/gallery",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Gallery"})})}),(0,s.jsx)(o(),{href:"/contribute",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Contribute"})})}),(0,s.jsx)(o(),{href:"/contact_us",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Contact Us"})})})]})},$=function(){var e=(0,c.useState)(!1),n=e[0],r=e[1];return(0,s.jsxs)("header",{className:t().header,children:[(0,s.jsx)("address",{className:t().address,children:(0,s.jsx)("span",{children:"012-3846579 | cme-camproject.online"})}),(0,s.jsxs)("nav",{children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{children:(0,s.jsx)("div",{className:t().logo,children:(0,s.jsx)("img",{src:"/images/logo.png"})})})}),(0,s.jsxs)("ul",{className:t().navContainer,children:[(0,s.jsx)(o(),{href:"/",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"About Us"})})}),(0,s.jsx)(o(),{href:"/archives",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Archives"})})}),(0,s.jsx)(o(),{href:"/gallery",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Gallery"})})}),(0,s.jsx)(o(),{href:"/videoGallery",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Video Gallery"})})}),(0,s.jsx)(o(),{href:"/upload",children:(0,s.jsx)("a",{children:(0,s.jsx)("div",{className:t().contriBtn,children:"Upload"})})}),(0,s.jsx)(o(),{href:"/delete",children:(0,s.jsx)("a",{children:(0,s.jsx)("div",{className:t().contriBtn,children:"Delete"})})}),(0,s.jsx)(o(),{href:"/contact_us",children:(0,s.jsx)("a",{children:(0,s.jsx)("li",{children:"Contact Us"})})})]}),(0,s.jsx)("span",{className:t().hamburgerMenu,onClick:function(){r(function(e){return!e})},children:(0,s.jsx)(i.Z,{className:t().mobMenu})})]}),n&&(0,s.jsx)(h,{})]})}},8654:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var s=r(5893),a=r(7294),t=r(7568),i=r(655),l=r(1163),o=r(434),c=r.n(o);function u(e){var n,r=e.toggleAuthMode,o=(0,a.useState)(""),u=o[0],d=o[1],h=(0,a.useState)(""),$=h[0],x=h[1],j=(0,l.useRouter)(),g=(n=(0,t.Z)(function(e){var n,r,s,a;return(0,i.__generator)(this,function(t){switch(t.label){case 0:e.preventDefault(),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch("/api/login",((r={}).method="POST",r.headers={"Content-Type":"application/json"},r.body=JSON.stringify({username:u,password:$}),r))];case 2:return[4,(n=t.sent()).json()];case 3:return s=t.sent(),n.ok?(localStorage.setItem("token",s.token),console.log("Token stored in local storage:",s.token),alert("Login successful!"),j.push("/upload")):alert("Login failed. Please try again."),[3,5];case 4:return a=t.sent(),console.error("Error during login:",a),alert("Login failed. Please try again."),[3,5];case 5:return[2]}})}),function(e){return n.apply(this,arguments)});return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("h2",{children:"Login"}),(0,s.jsxs)("form",{className:c().formContainer,onSubmit:g,children:[(0,s.jsx)("label",{htmlFor:"email",children:"Username:"}),(0,s.jsx)("input",{type:"text",id:"email",value:u,onChange:function(e){return d(e.target.value)},required:!0}),(0,s.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,s.jsx)("input",{type:"password",id:"password",value:$,onChange:function(e){return x(e.target.value)},required:!0}),(0,s.jsx)("button",{type:"submit",children:"Login"})]}),(0,s.jsx)("p",{className:c().toggleLink,onClick:r,children:"Don't have an account? Sign up"})]})}var d=r(2418),h=r.n(d);function $(e){var n,r=e.toggleAuthMode,l=(0,a.useState)(""),o=l[0],u=l[1],d=(0,a.useState)(""),$=d[0],x=d[1],j=(0,a.useState)(""),g=j[0],f=j[1],p=(n=(0,t.Z)(function(e){var n,s,a,t,l,c,u;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(e.preventDefault(),$!==g)return alert("Passwords do not match"),[2];return[4,h().hash($,10)];case 1:n=i.sent(),s=((a={}).username=o,a.password=n,a),i.label=2;case 2:return i.trys.push([2,5,,6]),console.log(s),[4,fetch("http://final-cam-server.vercel.app/signup",((l={}).method="POST",l.headers={"Content-Type":"application/json"},l.body=JSON.stringify({loginData:s}),l))];case 3:if(!(t=i.sent()).ok)throw Error("HTTP error! Status: ".concat(t.status));return[4,t.json()];case 4:return c=i.sent(),console.log("Success:",c),alert("Signup successful!"),r(),[3,6];case 5:return u=i.sent(),console.error("Error during signup:",u),alert("Signup failed. Please try again."),[3,6];case 6:return[2]}})}),function(e){return n.apply(this,arguments)});return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("h2",{children:"Sign Up"}),(0,s.jsxs)("form",{className:c().formContainer,onSubmit:p,children:[(0,s.jsx)("label",{htmlFor:"username",children:"Username:"}),(0,s.jsx)("input",{type:"text",id:"username",value:o,onChange:function(e){return u(e.target.value)},required:!0}),(0,s.jsx)("label",{htmlFor:"password",children:"Password:"}),(0,s.jsx)("input",{type:"password",id:"password",value:$,onChange:function(e){return x(e.target.value)},required:!0}),(0,s.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password:"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",value:g,onChange:function(e){return f(e.target.value)},required:!0}),(0,s.jsx)("button",{type:"submit",children:"Sign Up"})]}),(0,s.jsx)("p",{className:c().toggleLink,onClick:r,children:"Already have an account? Login"})]})}var x=r(3160);function j(){var e=(0,a.useState)("login"),n=e[0],r=e[1],t=function(){r(function(e){return"login"===e?"signup":"login"})};return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)("main",{children:(0,s.jsx)("div",{children:"login"===n?(0,s.jsx)(u,{toggleAuthMode:t}):(0,s.jsx)($,{toggleAuthMode:t})})})]})}},8911:function(e){e.exports={navContainer:"MobileMenu_navContainer__bdWmb"}},9280:function(e){e.exports={header:"Navbar_header__p_J8D",hamburgerMenu:"Navbar_hamburgerMenu__ve9dB",logo:"Navbar_logo__f9BcH",contriBtn:"Navbar_contriBtn__8MVxY",end:"Navbar_end__lrgYy"}},434:function(e){e.exports={container:"auth_container__cCdHF",formContainer:"auth_formContainer__BOMHR",toggleLink:"auth_toggleLink__VZfk_"}}},function(e){e.O(0,[714,359,183,342,774,888,179],function(){return e(e.s=8608)}),_N_E=e.O()}]);